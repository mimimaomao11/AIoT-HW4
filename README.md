# ðŸï¸ æ©Ÿè»Šä¿éšªçŸ¥è­˜åž‹ RAG å•ç­”åŠ©æ‰‹

é€™æ˜¯ä¸€å€‹åŸºæ–¼ RAG (Retrieval-Augmented Generation) æž¶æ§‹çš„å•ç­”æ‡‰ç”¨ç¨‹å¼ï¼Œå°ˆé–€å›žç­”é—œæ–¼å°ç£æ©Ÿè»Šä¿éšªï¼ˆç‰¹åˆ¥æ˜¯å¼·åˆ¶éšªèˆ‡ç¬¬ä¸‰äººè²¬ä»»éšªï¼‰çš„ç›¸é—œå•é¡Œã€‚

æ‡‰ç”¨ç¨‹å¼ä½¿ç”¨ Streamlit å»ºæ§‹å‰ç«¯ä»‹é¢ï¼Œä¸¦é€éŽ `sentence-transformers` å°‡çŸ¥è­˜åº«æ–‡ä»¶è½‰æ›ç‚ºå‘é‡ï¼Œå„²å­˜åœ¨ FAISS ç´¢å¼•ä¸­ã€‚ç•¶ä½¿ç”¨è€…æå‡ºå•é¡Œæ™‚ï¼Œç³»çµ±æœƒå…ˆå¾žç´¢å¼•ä¸­æª¢ç´¢æœ€ç›¸é—œçš„æ–‡ä»¶ç‰‡æ®µï¼Œå†å°‡é€™äº›ç‰‡æ®µé€£åŒå•é¡Œä¸€èµ·æäº¤çµ¦ OpenAI çš„å¤§åž‹èªžè¨€æ¨¡åž‹ï¼ˆä¾‹å¦‚ `gpt-4o-mini`ï¼‰ä»¥ç”Ÿæˆç²¾ç¢ºçš„å›žç­”ã€‚

## âœ¨ åŠŸèƒ½ç‰¹è‰²

- **çŸ¥è­˜åº«å•ç­”**ï¼šå°ˆæ³¨æ–¼ç‰¹å®šé ˜åŸŸï¼ˆæ©Ÿè»Šä¿éšªï¼‰ï¼Œæä¾›æ¯”é€šç”¨æ¨¡åž‹æ›´ç²¾ç¢ºçš„ç­”æ¡ˆã€‚
- **å³æ™‚äº’å‹•ä»‹é¢**ï¼šä½¿ç”¨ Streamlit æ‰“é€ ç°¡å–®æ˜“ç”¨çš„ç¶²é ä»‹é¢ã€‚
- **é«˜æ•ˆæª¢ç´¢**ï¼šåˆ©ç”¨ FAISS é€²è¡Œå¿«é€Ÿçš„å‘é‡ç›¸ä¼¼åº¦æœå°‹ã€‚
- **æ˜“æ–¼æ“´å……**ï¼šåªéœ€å°‡æ–°çš„ `.txt` çŸ¥è­˜æ–‡ä»¶æ”¾å…¥ `data/raw_html/` è³‡æ–™å¤¾ä¸¦é‡å»ºç´¢å¼•ï¼Œå³å¯æ“´å……çŸ¥è­˜åº«ã€‚

## ðŸ› ï¸ æŠ€è¡“æ£§

- **å‰ç«¯æ¡†æž¶**: Streamlit
- **èªžè¨€æ¨¡åž‹ (LLM)**: OpenAI API (gpt-4o-mini)
- **å‘é‡åµŒå…¥æ¨¡åž‹**: `sentence-transformers`
- **å‘é‡è³‡æ–™åº«**: FAISS (Facebook AI Similarity Search)
- **Python å¥—ä»¶**: `numpy`, `openai`, `streamlit`, `sentence-transformers`, `faiss-cpu`

## ðŸš€ å¦‚ä½•åœ¨æœ¬åœ°ç«¯åŸ·è¡Œ

### 1. ç’°å¢ƒæº–å‚™

- ç¢ºèªå·²å®‰è£ Python 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚
- å»ºè­°å»ºç«‹ä¸¦å•Ÿç”¨ä¸€å€‹è™›æ“¬ç’°å¢ƒï¼š
  ```bash
  python -m venv venv
  source venv/bin/activate  # On Windows, use `venv\Scripts\activate`
  ```

### 2. å®‰è£ä¾è³´å¥—ä»¶

```bash
pip install -r requirements.txt
```

### 3. è¨­å®š OpenAI API é‡‘é‘°

åœ¨å°ˆæ¡ˆçš„æ ¹ç›®éŒ„ä¸‹å»ºç«‹ä¸€å€‹åç‚º `.env` çš„æª”æ¡ˆï¼Œä¸¦åœ¨å…¶ä¸­å¡«å…¥æ‚¨çš„ OpenAI API é‡‘é‘°ï¼š

```
OPENAI_API_KEY="sk-..."
```

### 4. å»ºç«‹å‘é‡è³‡æ–™åº«

åŸ·è¡Œä»¥ä¸‹è…³æœ¬ä¾†è™•ç†çŸ¥è­˜æ–‡ä»¶ä¸¦å»ºç«‹ FAISS ç´¢å¼•ã€‚æ­¤æ­¥é©Ÿåªéœ€åœ¨çŸ¥è­˜åº«æ›´æ–°æ™‚åŸ·è¡Œä¸€æ¬¡ã€‚

```bash
python src/build_vector_db.py
```

### 5. å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼

```bash
streamlit run src/app.py
```

æ‡‰ç”¨ç¨‹å¼å°‡åœ¨æ‚¨çš„æœ¬åœ°ç€è¦½å™¨ä¸­é–‹å•Ÿã€‚

## ðŸ“‚ å°ˆæ¡ˆçµæ§‹

```
â”œâ”€â”€ data/
â”‚   â””â”€â”€ raw_html/         # å­˜æ”¾åŽŸå§‹çŸ¥è­˜åº« .txt æª”æ¡ˆ
â”œâ”€â”€ embeddings/           # å­˜æ”¾è‡ªå‹•ç”Ÿæˆçš„ FAISS ç´¢å¼•å’Œå‘é‡æª”æ¡ˆ
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app.py            # Streamlit å‰ç«¯æ‡‰ç”¨ä¸»ç¨‹å¼
â”‚   â”œâ”€â”€ build_vector_db.py # å»ºç«‹å‘é‡è³‡æ–™åº«çš„è…³æœ¬
â”‚   â”œâ”€â”€ generate_new_article.py # ç”ŸæˆçŸ¥è­˜åº«æ–‡ä»¶çš„è…³æœ¬
â”‚   â”œâ”€â”€ preprocess.py     # è³‡æ–™é è™•ç†èˆ‡åˆ‡åˆ†é‚è¼¯
â”‚   â””â”€â”€ rag_engine.py     # RAG æ ¸å¿ƒå¼•æ“Žï¼Œè² è²¬æª¢ç´¢èˆ‡ç”Ÿæˆç­”æ¡ˆ
â”œâ”€â”€ .gitignore            # Git å¿½ç•¥æ¸…å–®
â”œâ”€â”€ DEV_LOG.md            # é–‹ç™¼æ—¥èªŒ
â”œâ”€â”€ README.md             # å°ˆæ¡ˆèªªæ˜Žæ–‡ä»¶
â””â”€â”€ requirements.txt      # Python ä¾è³´å¥—ä»¶åˆ—è¡¨
```
=======
# AIoT-HW4
>>>>>>> 4764854613cfebe33005f9fc1fb1dacd58555c4e
